<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="650.0" prefWidth="1300.0" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.controllers.ReservationController">
    <children>
        <VBox alignment="TOP_LEFT" spacing="20" styleClass="content-pane" AnchorPane.bottomAnchor="20.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0" AnchorPane.topAnchor="20.0">
            <children>
                <Label text="Gestion des Réservations" styleClass="section-title" />
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <children>
                        <Button fx:id="addReservationButton" onAction="#openAddReservationWindow" text="Ajouter Réservation" styleClass="action-button" />
                        <Region HBox.hgrow="ALWAYS" />
                        <TextField fx:id="searchReservationField" promptText="Rechercher une réservation..." styleClass="search-field" />
                        <Button fx:id="searchReservationButton" text="Rechercher" styleClass="material-button-primary" />
                    </children>
                </HBox>
                <TabPane fx:id="mainTabPane" styleClass="finance-tab-pane" VBox.vgrow="ALWAYS">
                    <tabs>
                        <Tab fx:id="reservationsTab" closable="false" text="Toutes les Réservations">
                            <style>
                                -fx-background-color: #3498db;
                                -fx-text-fill: white;
                            </style>
                            <content>
                                <AnchorPane styleClass="card-pane" style="-fx-padding: 10px;">
                                    <children>
                                        <TableView fx:id="reservationTable" styleClass="table-view" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
                                            <columns>
                                                <TableColumn fx:id="numeroTicketColumn" text="Numéro Ticket" />
                                                <TableColumn fx:id="clientColumn" text="Client" />
                                                <TableColumn fx:id="posteColumn" text="Poste" />
                                                <TableColumn fx:id="gameColumn" text="Jeu" />
                                                <TableColumn fx:id="durationColumn" text="Durée" />
                                                <TableColumn fx:id="totalPriceColumn" text="Prix Total" />
                                                <TableColumn fx:id="reservationDateColumn" text="Date de Réservation" />
                                                <TableColumn fx:id="parrainCodeColumn" text="Parrain" />
                                                <TableColumn fx:id="statusColumn" text="Statut" />
                                                <TableColumn fx:id="actionColumn" text="Action" />
                                            </columns>
                                            <columnResizePolicy>
                                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                            </columnResizePolicy>
                                        </TableView>
                                    </children>
                                </AnchorPane>
                            </content>
                        </Tab>
                        <Tab fx:id="activeSessionsTab" closable="false" text="Sessions Actives">
                            <style>
                                -fx-background-color: #3498db;
                                -fx-text-fill: white;
                            </style>
                            <content>
                                <AnchorPane styleClass="card-pane" style="-fx-padding: 10px;">
                                    <children>
                                        <TableView fx:id="activeSessionsTable" styleClass="table-view" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
                                            <columns>
                                                <TableColumn fx:id="sessionClientColumn" text="Client" />
                                                <TableColumn fx:id="sessionPosteColumn" text="Poste" />
                                                <TableColumn fx:id="sessionGameColumn" text="Jeu" />
                                                <TableColumn fx:id="sessionStartTimeColumn" text="Heure Début" />
                                                <TableColumn fx:id="sessionEndTimeColumn" text="Heure Fin Estimée" />
                                                <TableColumn fx:id="sessionRemainingTimeColumn" text="Temps Restant" />
                                                <TableColumn fx:id="sessionStatusColumn" text="Statut" />
                                                <TableColumn fx:id="sessionActionsColumn" text="Actions" />
                                            </columns>
                                            <columnResizePolicy>
                                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                            </columnResizePolicy>
                                        </TableView>
                                    </children>
                                </AnchorPane>
                            </content>
                        </Tab>
                    </tabs>
                </TabPane>
            </children>
        </VBox>
    </children>
</AnchorPane>
