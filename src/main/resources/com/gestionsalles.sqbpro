<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="gestionsalles.sqlite" readonly="0" foreign_keys="0" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="1"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="1953"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="users" custom_title="0" dock_id="2" table="4,5:mainusers"/><dock_state state="000000ff00000000fd00000001000000020000023d00000215fc0100000002fb000000160064006f0063006b00420072006f00770073006500310100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f007700730065003201000000000000023d0000012100ffffff0000023d0000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="clients" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="35"/><column index="2" value="40"/><column index="3" value="39"/><column index="4" value="62"/><column index="5" value="35"/><column index="6" value="102"/><column index="7" value="43"/><column index="8" value="62"/><column index="9" value="53"/><column index="10" value="82"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="game_sessions" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="35"/><column index="2" value="58"/><column index="3" value="59"/><column index="4" value="81"/><column index="5" value="93"/><column index="6" value="39"/><column index="7" value="44"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="games" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="35"/><column index="2" value="40"/><column index="3" value="71"/><column index="4" value="35"/><column index="5" value="44"/><column index="6" value="69"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="payments" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="35"/><column index="2" value="87"/><column index="3" value="68"/><column index="4" value="86"/><column index="5" value="94"/><column index="6" value="58"/><column index="7" value="93"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="postes" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="35"/><column index="2" value="44"/><column index="3" value="69"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="produits" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="35"/><column index="2" value="35"/><column index="3" value="35"/><column index="4" value="39"/><column index="5" value="65"/><column index="6" value="43"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="reservations" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="35"/><column index="2" value="58"/><column index="3" value="101"/><column index="4" value="56"/><column index="5" value="97"/><column index="6" value="87"/><column index="7" value="59"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="users" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="35"/><column index="2" value="40"/><column index="3" value="39"/><column index="4" value="62"/><column index="5" value="35"/><column index="6" value="102"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1*">-- Table 'users'
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    email TEXT UNIQUE NOT NULL,
    password TEXT NOT NULL,
    role TEXT NOT NULL,
    registrationDate DATE
);

-- Table 'clients'
CREATE TABLE clients (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    email TEXT UNIQUE NOT NULL,
    password TEXT NOT NULL,
    role TEXT NOT NULL,
    registrationDate DATE,
    phone TEXT,
    birthDate DATE,
    address TEXT,
    loyaltyPoints INTEGER
);

-- Table 'produits'
CREATE TABLE produits (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    nom TEXT NOT NULL,
    prix DECIMAL(10, 2) NOT NULL,
    stock INTEGER NOT NULL,
    dateAjout DATETIME,
    image TEXT
);

-- Table 'postes'
CREATE TABLE postes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    status TEXT,
    isAvailable BOOLEAN
);

-- Table 'payments'
CREATE TABLE payments (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    numeroTicket TEXT NOT NULL,
    dateHeure DATETIME NOT NULL,
    montantTotal DECIMAL(10, 2) NOT NULL,
    modePaiement TEXT NOT NULL,
    client_id INTEGER,
    detailsProduits TEXT,
    FOREIGN KEY (client_id) REFERENCES clients(id)
);

-- Table 'game_sessions'
CREATE TABLE game_sessions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    client_id INTEGER,
    game_id INTEGER,
    paidDuration INTEGER, -- Durée en secondes
    remainingTime INTEGER, -- Durée en secondes
    score INTEGER,
    status TEXT,
    FOREIGN KEY (client_id) REFERENCES clients(id),
    FOREIGN KEY (game_id) REFERENCES games(id)
);

-- Table 'games'
CREATE TABLE games (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    description TEXT,
    type TEXT,
    status TEXT,
    imagePath TEXT
);

-- Table 'reservations'
CREATE TABLE reservations (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    client_id INTEGER,
    reservationDate DATETIME NOT NULL,
    duration INTEGER, -- Durée en secondes
    codeParrainage TEXT,
    numeroTicket TEXT,
    poste_id INTEGER,
    FOREIGN KEY (client_id) REFERENCES clients(id),
    FOREIGN KEY (poste_id) REFERENCES postes(id)
);</sql><current_tab id="0"/></tab_sql></sqlb_project>
